import{x,c as y,o as r,w as m,a as e,i as b,u as d,e as l,F as i,h as u,t as n,v as p,f as _,Q as h}from"./app-BDVLSo38.js";import{_ as w}from"./AppLayout-CfcEMtrJ.js";const R={class:"p-6 bg-white shadow rounded-xl"},k={class:"mb-6 flex gap-4 flex-col sm:flex-row items-center"},S=["value"],C=["value"],A={class:"min-w-full bg-white text-sm border"},B={class:"p-2 border-b"},U={class:"p-2 border-b"},V={class:"p-2 border-b text-indigo-700 font-medium"},D={class:"p-2 border-b"},M=["onClick"],Q={__name:"Index",props:{users:Array,roles:Array},setup(f){const a=f,o=x({user_id:"",role:""});function g(){if(!o.user_id||!o.role)return alert("Select both user and role");o.post(route("roles.assign"),{preserveScroll:!0,onSuccess:()=>{o.reset(),alert("Role updated successfully!")}})}function v(c){confirm("Are you sure you want to remove this user's role?")&&h.delete(route("roles.remove",c),{preserveScroll:!0,onSuccess:()=>{alert("Role removed successfully!")}})}return(c,t)=>(r(),y(w,{title:"Role Management"},{header:m(()=>t[2]||(t[2]=[e("h2",{class:"font-bold text-3xl text-gray-800"},"Role Management",-1),e("p",{class:"text-gray-500 text-sm"},"Assign and manage user roles",-1)])),default:m(()=>[e("div",R,[e("div",k,[b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d(o).user_id=s),class:"border p-2 rounded w-full sm:w-64"},[t[3]||(t[3]=e("option",{disabled:"",value:""},"Select User",-1)),(r(!0),l(i,null,u(a.users,s=>(r(),l("option",{key:s.id,value:s.id},n(s.name)+" ("+n(s.email)+") ",9,S))),128))],512),[[p,d(o).user_id]]),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d(o).role=s),class:"border p-2 rounded w-full sm:w-64"},[t[4]||(t[4]=e("option",{disabled:"",value:""},"Select Role",-1)),(r(!0),l(i,null,u(a.roles,s=>(r(),l("option",{key:s,value:s},n(s),9,C))),128))],512),[[p,d(o).role]]),e("button",{onClick:g,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded"}," Assign Role ")]),t[7]||(t[7]=e("hr",{class:"mb-4"},null,-1)),e("div",null,[t[6]||(t[6]=e("h3",{class:"font-semibold mb-2"},"Current Users & Roles",-1)),e("table",A,[t[5]||(t[5]=e("thead",{class:"bg-gray-100 text-left"},[e("tr",null,[e("th",{class:"p-2 border-b"},"Name"),e("th",{class:"p-2 border-b"},"Email"),e("th",{class:"p-2 border-b"},"Current Role"),e("th",{class:"p-2 border-b"},"Actions")])],-1)),e("tbody",null,[(r(!0),l(i,null,u(a.users,s=>(r(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",B,n(s.name),1),e("td",U,n(s.email),1),e("td",V,n(s.role||"â€”"),1),e("td",D,[s.role?(r(),l("button",{key:0,onClick:N=>v(s.id),class:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded"}," Delete Role ",8,M)):_("",!0)])]))),128))])])])])]),_:1}))}};export{Q as default};
