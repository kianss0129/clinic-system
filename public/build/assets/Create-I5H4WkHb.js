import{x as f,e as d,o as l,a as s,i,f as a,v as p,u as r,F as m,h as b,t as n,j as x,k as y}from"./app-BDVLSo38.js";const k={class:"p-6 max-w-3xl mx-auto"},_=["value"],g={key:0,class:"text-xs text-red-600 mt-1"},w=["value"],S={key:0,class:"text-xs text-red-600 mt-1"},V=["value"],D={key:0,class:"text-xs text-red-600 mt-1"},A={key:0,class:"text-xs text-red-600 mt-1"},U={key:0,class:"text-xs text-red-600 mt-1"},M={key:0,class:"text-xs text-red-600 mt-1"},B={class:"text-right"},N=["disabled"],O={__name:"Create",props:{patients:Array,doctors:Array,appointments:Array},setup(u){const e=f({patient_id:"",doctor_id:"",appointment_id:"",diagnosis:"",notes:"",record_date:new Date().toISOString().slice(0,10)});function c(){e.post(route("doctor.records.store"))}return(C,t)=>(l(),d("div",k,[t[15]||(t[15]=s("h1",{class:"text-2xl font-bold mb-6"},"Add Medical Record",-1)),s("form",{onSubmit:y(c,["prevent"]),class:"space-y-4"},[s("div",null,[t[7]||(t[7]=s("label",{class:"block mb-1 font-medium"},"Patient",-1)),i(s("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>r(e).patient_id=o),class:"w-full border rounded p-2"},[t[6]||(t[6]=s("option",{value:""},"— Select Patient —",-1)),(l(!0),d(m,null,b(u.patients,o=>(l(),d("option",{key:o.id,value:o.id},n(o.name),9,_))),128))],512),[[p,r(e).patient_id]]),r(e).errors.patient_id?(l(),d("p",g,n(r(e).errors.patient_id),1)):a("",!0)]),s("div",null,[t[9]||(t[9]=s("label",{class:"block mb-1 font-medium"},"Doctor",-1)),i(s("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>r(e).doctor_id=o),class:"w-full border rounded p-2"},[t[8]||(t[8]=s("option",{value:""},"— Select Doctor —",-1)),(l(!0),d(m,null,b(u.doctors,o=>(l(),d("option",{key:o.id,value:o.id},n(o.name),9,w))),128))],512),[[p,r(e).doctor_id]]),r(e).errors.doctor_id?(l(),d("p",S,n(r(e).errors.doctor_id),1)):a("",!0)]),s("div",null,[t[11]||(t[11]=s("label",{class:"block mb-1 font-medium"},"Appointment",-1)),i(s("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>r(e).appointment_id=o),class:"w-full border rounded p-2"},[t[10]||(t[10]=s("option",{value:""},"— Select Appointment —",-1)),(l(!0),d(m,null,b(u.appointments,o=>{var v;return l(),d("option",{key:o.id,value:o.id},n((v=o.patient)==null?void 0:v.name)+" – "+n(o.appointment_date)+" ("+n(o.status)+") ",9,V)}),128))],512),[[p,r(e).appointment_id]]),r(e).errors.appointment_id?(l(),d("p",D,n(r(e).errors.appointment_id),1)):a("",!0)]),s("div",null,[t[12]||(t[12]=s("label",{class:"block mb-1 font-medium"},"Diagnosis",-1)),i(s("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>r(e).diagnosis=o),class:"w-full border rounded p-2",placeholder:"e.g. Hypertension"},null,512),[[x,r(e).diagnosis]]),r(e).errors.diagnosis?(l(),d("p",A,n(r(e).errors.diagnosis),1)):a("",!0)]),s("div",null,[t[13]||(t[13]=s("label",{class:"block mb-1 font-medium"},"Notes",-1)),i(s("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>r(e).notes=o),rows:"4",class:"w-full border rounded p-2",placeholder:"Optional notes …"},null,512),[[x,r(e).notes]]),r(e).errors.notes?(l(),d("p",U,n(r(e).errors.notes),1)):a("",!0)]),s("div",null,[t[14]||(t[14]=s("label",{class:"block mb-1 font-medium"},"Record Date",-1)),i(s("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=o=>r(e).record_date=o),class:"w-full border rounded p-2"},null,512),[[x,r(e).record_date]]),r(e).errors.record_date?(l(),d("p",M,n(r(e).errors.record_date),1)):a("",!0)]),s("div",B,[s("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",disabled:r(e).processing}," Save ",8,N)])],32)]))}};export{O as default};
